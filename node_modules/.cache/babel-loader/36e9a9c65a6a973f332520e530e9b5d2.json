{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dd040\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\projects\\\\goit-react-hw-03-image-finder\\\\src\\\\components\\\\ImageGallery\\\\ImageGallery.jsx\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport Button from '../Button/Button';\nimport Loader from '../Loader/Loader';\nimport s from './ImageGallery.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected'\n};\n\nclass ImageGallery extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      pictures: [],\n      error: null,\n      status: Status.IDLE\n    };\n  }\n\n  async componentDidUpdate(prevProps, prevState) {\n    if (prevProps.picturesName !== this.props.picturesName) {\n      const API = '26837460-553b8b6dbfe9a53b3dd0b8a3a';\n      const NAME = this.props.picturesName;\n      let pageNumber = '1';\n      const URL = 'https://pixabay.com/api/?q=' + NAME + '&page=' + pageNumber + '&key=' + API + '&image_type=photo&orientation=horizontal&per_page=12';\n      this.setState({\n        status: Status.PENDING\n      });\n\n      try {\n        const response = await axios.get(URL);\n\n        if (response.data.total === 0) {\n          toast.warn(`Sorry, there are no images matching your search query. Please try again.`);\n          this.setState({\n            status: Status.IDLE\n          });\n          return;\n        }\n\n        return this.setState({\n          pictures: response.data.hits,\n          status: Status.RESOLVED\n        });\n      } catch (error) {\n        this.setState({\n          error,\n          status: Status.REJECTED\n        });\n      }\n    }\n  }\n\n  render() {\n    const {\n      status,\n      error,\n      pictures\n    } = this.state;\n\n    if (status === 'idle') {\n      return /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Please, enter something\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 14\n      }, this);\n    }\n\n    if (status === 'pending') {\n      return /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 15\n      }, this);\n    }\n\n    if (status === 'rejected') {\n      return /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Whoops, something went wrong: \", error.message]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 14\n      }, this);\n    }\n\n    if (status === 'resolved') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n          className: s.gallery,\n          children: /*#__PURE__*/_jsxDEV(ImageGalleryItem, {\n            pictures: pictures\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this);\n    }\n  }\n\n}\n\nexport default ImageGallery;","map":{"version":3,"sources":["C:/Users/dd040/OneDrive/Рабочий стол/projects/goit-react-hw-03-image-finder/src/components/ImageGallery/ImageGallery.jsx"],"names":["React","Component","axios","toast","ImageGalleryItem","Button","Loader","s","Status","IDLE","PENDING","RESOLVED","REJECTED","ImageGallery","state","pictures","error","status","componentDidUpdate","prevProps","prevState","picturesName","props","API","NAME","pageNumber","URL","setState","response","get","data","total","warn","hits","render","message","gallery"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport Button from '../Button/Button';\r\nimport Loader from '../Loader/Loader';\r\nimport s from './ImageGallery.module.css';\r\n\r\nconst Status = {\r\n  IDLE: 'idle',\r\n  PENDING: 'pending',\r\n  RESOLVED: 'resolved',\r\n  REJECTED: 'rejected',\r\n};\r\n\r\nclass ImageGallery extends Component {\r\n  state = {\r\n    pictures: [],\r\n    error: null,\r\n    status: Status.IDLE,\r\n  };\r\n\r\n  async componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.picturesName !== this.props.picturesName) {\r\n      const API = '26837460-553b8b6dbfe9a53b3dd0b8a3a';\r\n      const NAME = this.props.picturesName;\r\n      let pageNumber = '1';\r\n      const URL =\r\n        'https://pixabay.com/api/?q=' +\r\n        NAME +\r\n        '&page=' +\r\n        pageNumber +\r\n        '&key=' +\r\n        API +\r\n        '&image_type=photo&orientation=horizontal&per_page=12';\r\n      this.setState({ status: Status.PENDING });\r\n\r\n      try {\r\n        const response = await axios.get(URL);\r\n        if (response.data.total === 0) {\r\n          toast.warn(\r\n            `Sorry, there are no images matching your search query. Please try again.`\r\n          );\r\n            this.setState({ status: Status.IDLE });\r\n            return;\r\n        }\r\n        return this.setState({\r\n          pictures: response.data.hits,\r\n          status: Status.RESOLVED,\r\n        });\r\n      } catch (error) {\r\n        this.setState({ error, status: Status.REJECTED });\r\n      }\r\n    }\r\n  }\r\n\r\n    render() {\r\n    const { status, error, pictures} = this.state;\r\n    \r\n    if (status === 'idle') {\r\n      return <h1>Please, enter something</h1>;\r\n    }\r\n    if (status === 'pending') {\r\n      return  <Loader/>\r\n    }\r\n    if (status === 'rejected') {\r\n      return <h1>Whoops, something went wrong: {error.message}</h1>;\r\n    }\r\n    if (status === 'resolved') {\r\n      return (\r\n        <div>\r\n          <ul className={s.gallery}>\r\n            <ImageGalleryItem pictures={pictures} />\r\n          </ul>\r\n          <Button />\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default ImageGallery;"]},"metadata":{},"sourceType":"module"}